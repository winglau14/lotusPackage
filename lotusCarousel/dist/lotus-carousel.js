!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("LotusCarousel",[],e):"object"==typeof exports?exports.LotusCarousel=e():t.LotusCarousel=e()}(this,function(){return function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,i){i(3);var s=i(4)(i(1),i(5),null,null);t.exports=s.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"lotus-slider-wrap",props:{imageList:{required:!0,type:Array},_isAuto:{type:Boolean,default:!0},_autoTime:{type:Number,default:3e3}},data:function(){return{windowWidth:Math.min(window.innerWidth,document.documentElement.clientWidth),liLength:0,listWidth:0,imgNaturalHeight:0,imgNaturalWidth:0,imgHeight:0,startX:0,endX:0,index:0,distance:0,time:null,isAuto:this._props._isAuto,imageUrls:this._props.imageList}},components:{},methods:{getFinger:function(t){var e=t.touches,i=0;return 1===e.length&&(i=e[0].clientX),i},setTranslate:function(t,e){var i=document.querySelector(".lotus-slider-wrap-list");if(document.querySelector(".lotus-slider-wrap-dot")){for(var s=document.querySelector(".lotus-slider-wrap-dot"),n=s.getElementsByTagName("span"),o=0;o<n.length;o++)n[o].className="";n[Math.abs(t)%n.length].className="active"}this.setTransition(i,t*e,300)},setTransition:function(t,e,i){t.style.webkitTransition="all "+i+"ms ease-out",t.style.webkitTransform="translate3D("+e+"px,0px,0px)"},autoCarousel:function(){var t=this,e=~~this._props._autoTime;this.time=setInterval(function(){Math.abs(t.index)===t.liLength-1&&(t.index=-(t.liLength/2-1)),t.setTranslate(t.index,t.windowWidth),document.querySelector(".lotus-slider-wrap-list").style.webkitTransition="none",setTimeout(function(){t.index--,t.setTranslate(t.index,t.windowWidth)},30),console.log(t.index)},e)},touchStart:function(t){this.stop(),t.preventDefault(),this.startX=this.getFinger(t),0===this.index?this.index=-this.liLength/2:this.index===this.liLength-1&&(this.index=-(this.liLength/2-1)),clearInterval(this.time)},touchMove:function(t){this.stop(),t.preventDefault(),clearInterval(this.time);var e=document.querySelector(".lotus-slider-wrap-list");this.endX=this.getFinger(t),this.distance=this.endX-this.startX;var i=0;return 0===this.index&&this.distance>0?(console.log("最左边"),i=Math.sqrt(Math.abs(this.distance))+10,this.setTransition(e,~~i,100),!1):this.index===-(this.liLength-1)&&this.distance<0?(console.log("最右边"),i=this.index*this.windowWidth-(Math.sqrt(Math.abs(this.distance))+10),this.setTransition(e,~~i,100),!1):void this.setTransition(e,this.index*this.windowWidth+this.distance,0)},touchEnd:function(t){this.stop();var e=document.querySelector(".lotus-slider-wrap-list");return clearInterval(this.time),!(t.touches.length>1)&&(this._props.imageList.length>=2&&this.isAuto&&this.autoCarousel(),Math.abs(this.distance)<this.windowWidth/3?(console.log("回弹"),this.setTransition(e,this.index*this.windowWidth,300),!1):void(Math.abs(this.distance)>50&&(this.distance<0?(this.index--,Math.abs(this.index)>=this.liLength-1&&(this.index=-(this.liLength-1))):++this.index>=0&&(this.index=0),this.setTranslate(this.index,this.windowWidth))))},transitionEnd:function(){Math.abs(this.index)===this.liLength-1&&(this.index=-(this.liLength/2-1))},load:function(){var t=document.querySelector(".lotus-slider-wrap-list"),e=t.querySelectorAll("li"),i=document.querySelector(".lotus-slider-wrap");document.querySelector(".lotus-slider-wrap-dot");this.liLength=e.length,this.listWidth=~~this.windowWidth*this.liLength;var s=t.getElementsByTagName("img"),n=s[0].naturalHeight,o=s[0].naturalWidth;this.imgHeight=~~(n*this.windowWidth/o),t.style.width=this.listWidth+"px",t.style.height=this.imgHeight+"px",t.style.webkitTransform="translate3D(0px,0px,0px)",i.style.height=this.imgHeight+"px";for(var r=0;r<this.liLength;r++)e[r].style.width=this.windowWidth+"px",e[r].style.height=this.imgHeight+"px",s[r].style.width=this.windowWidth+"px",s[r].style.height=this.imgHeight+"px",s[r].style.display="block"},stop:function(){if(this._props.imageList.length<2)return!1}},mounted:function(){},created:function(){this.stop(),this._props.imageList.length>=2&&this.isAuto&&(this.imageUrls=this._props.imageList.concat(this._props.imageList),this.autoCarousel())},destroyed:function(){clearInterval(this.time)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),n=i.n(s),o={install:function(t){"undefined"!=typeof window&&window.Vue&&(t=window.Vue),t.component("lotus-carousel",n.a)}};e.default=o},function(t,e){},function(t,e){t.exports=function(t,e,i,s){var n,o=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(n=t,o=t.default);var a="function"==typeof o?o.options:o;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),i&&(a._scopeId=i),s){var l=Object.create(a.computed||null);Object.keys(s).forEach(function(t){var e=s[t];l[t]=function(){return e}}),a.computed=l}return{esModule:n,exports:o,options:a}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lotus-slider-wrap"},[i("ul",{staticClass:"lotus-slider-wrap-list",attrs:{id:"lotus-slider-wrap-list"},on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd,transitionend:t.transitionEnd}},t._l(t.imageUrls,function(e,s){return i("li",{key:s},[i("a",{attrs:{href:"javascript:;"}},[i("img",{attrs:{src:e,alt:""},on:{load:t.load}})])])})),t._v(" "),t.imageUrls.length>=2?i("p",{staticClass:"lotus-slider-wrap-dot"},t._l(t.imageList,function(t,e){return i("span",{key:e,class:0===e&&"active"})})):t._e()])},staticRenderFns:[]}}])});